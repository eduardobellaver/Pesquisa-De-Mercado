<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pesquisa de Mercado - Segmento de Software</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50">
    <div class="min-h-screen p-4 md:p-8">
        <div class="max-w-7xl mx-auto">
            <!-- Header -->
            <div class="mb-8">
                <h1 class="text-2xl md:text-3xl font-normal text-gray-800 text-center mb-8">
                    Pesquisa de Mercado - Segmento de Software
                </h1>
                
                <!-- Top Stats -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                    <div class="bg-white rounded-lg shadow-sm overflow-hidden">
                        <div class="bg-blue-100 px-6 py-4">
                            <p class="text-xl md:text-2xl font-light text-gray-700">R$ 29.297.681.130,26</p>
                        </div>
                        <div class="px-6 py-4">
                            <p class="text-base font-semibold text-gray-800">Valor total</p>
                            <p class="text-sm text-gray-600">Quantidade total homologada</p>
                        </div>
                    </div>

                    <div class="bg-white rounded-lg shadow-sm overflow-hidden">
                        <div class="bg-blue-100 px-6 py-4">
                            <p class="text-xl md:text-2xl font-light text-gray-700">504.118.442</p>
                        </div>
                        <div class="px-6 py-4">
                            <p class="text-base font-semibold text-gray-800">Itens vendidos</p>
                            <p class="text-sm text-gray-600">Quantidade total</p>
                        </div>
                    </div>

                    <div class="bg-white rounded-lg shadow-sm overflow-hidden">
                        <div class="bg-blue-100 px-6 py-4">
                            <p class="text-xl md:text-2xl font-light text-gray-700">4.925</p>
                        </div>
                        <div class="px-6 py-4">
                            <p class="text-base font-semibold text-gray-800">Empresas vencedoras</p>
                            <p class="text-sm text-gray-600">Quantidade total</p>
                        </div>
                    </div>
                </div>

                <!-- Bottom Stats -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="bg-white rounded-lg shadow-sm overflow-hidden">
                        <div class="bg-blue-100 px-6 py-4">
                            <p class="text-xl md:text-2xl font-light text-gray-700">R$ 12.178.661.520,00</p>
                        </div>
                        <div class="px-6 py-4">
                            <p class="text-base font-semibold text-gray-800">Maior valor</p>
                            <p class="text-sm text-gray-600">Quantidade total única homologada</p>
                        </div>
                    </div>

                    <div class="bg-white rounded-lg shadow-sm overflow-hidden">
                        <div class="bg-blue-100 px-6 py-4">
                            <p class="text-xl md:text-2xl font-light text-gray-700">R$ 13.177.734.290,87</p>
                        </div>
                        <div class="px-6 py-4">
                            <p class="text-base font-semibold text-gray-800">SC</p>
                            <p class="text-sm text-gray-600">Principal estado</p>
                        </div>
                    </div>

                    <div class="bg-white rounded-lg shadow-sm overflow-hidden">
                        <div class="bg-blue-100 px-6 py-4">
                            <p class="text-xl md:text-2xl font-light text-gray-700">R$ 12.831.331.029,21</p>
                        </div>
                        <div class="px-6 py-4">
                            <p class="text-base font-semibold text-gray-800">CENTRO DE INFORMÁTICA E AUTOMAÇÃO DO ESTADO DE SC S/A</p>
                            <p class="text-sm text-gray-600">Principal empresa vencedora</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Timeline Chart -->
            <div class="bg-white rounded-lg shadow-sm p-4 md:p-6 mb-8">
                <h2 class="text-lg md:text-xl font-normal text-gray-700 mb-6">Evolução temporal</h2>
                <div class="relative" style="height: 400px;">
                    <canvas id="timelineChart"></canvas>
                </div>
            </div>

            <!-- Bar and Pie Charts -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                <div class="bg-white rounded-lg shadow-sm p-4 md:p-6">
                    <h2 class="text-lg md:text-xl font-normal text-gray-700 mb-6">Total Homologado (R$) por Empresa</h2>
                    <div class="relative" style="height: 400px;">
                        <canvas id="companyBarChart"></canvas>
                    </div>
                </div>

                <div class="bg-white rounded-lg shadow-sm p-4 md:p-6">
                    <h2 class="text-lg md:text-xl font-normal text-gray-700 mb-6">% do Total Homologado por Empresa</h2>
                    <div class="relative" style="height: 400px;">
                        <canvas id="companyPieChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- State Chart -->
            <div class="bg-white rounded-lg shadow-sm p-4 md:p-6 mb-8">
                <h2 class="text-lg md:text-xl font-normal text-gray-700 mb-6">Total Homologado (R$) por Estado</h2>
                <div class="relative" style="height: 500px;">
                    <canvas id="stateChart"></canvas>
                </div>
            </div>
            
            <!-- New Charts Section -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                <!-- Top 10 Orgs Chart -->
                <div class="bg-white rounded-lg shadow-sm p-4 md:p-6">
                    <h2 class="text-lg md:text-xl font-normal text-gray-700 mb-6">Total Homologado (R$) pelos Top 10 Órgãos</h2>
                    <div class="relative" style="height: 400px;">
                        <canvas id="topOrgsChart"></canvas>
                    </div>
                </div>

                <!-- Top 15 Services Chart -->
                <div class="bg-white rounded-lg shadow-sm p-4 md:p-6">
                    <h2 class="text-lg md:text-xl font-normal text-gray-700 mb-6">Total Homologado (R$) pelos Top 15 Serviços</h2>
                    <div class="relative" style="height: 400px;">
                        <canvas id="topServicesChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Organizations Pie Chart -->
            <div class="bg-white rounded-lg shadow-sm p-4 md:p-6 mb-8">
                <h2 class="text-lg md:text-xl font-normal text-gray-700 mb-6">% do Total Homologado por Órgãos</h2>
                <div class="relative" style="height: 500px;">
                    <canvas id="orgsPieChart"></canvas>
                </div>
            </div>

            <!-- Data Tables Section -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                <!-- Tabela Top 10 Órgãos -->
                <div class="bg-white rounded-lg shadow-sm p-4 md:p-6">
                    <h2 class="text-lg md:text-xl font-normal text-gray-700 mb-6">Top 10 Órgãos por Valor Homologado (R$)</h2>
                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-gray-200" id="topOrgsTable">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Órgão</th>
                                    <th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">Valor Homologado (R$)</th>
                                </tr>
                            </thead>
                            <tbody class="bg-white divide-y divide-gray-200">
                                <!-- Dados da Tabela serão preenchidos pelo JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Tabela Top 15 Serviços -->
                <div class="bg-white rounded-lg shadow-sm p-4 md:p-6">
                    <h2 class="text-lg md:text-xl font-normal text-gray-700 mb-6">Top 15 Serviços por Valor Homologado (R$)</h2>
                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-gray-200" id="topServicesTable">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Serviço</th>
                                    <th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">Valor Homologado (R$)</th>
                                </tr>
                            </thead>
                            <tbody class="bg-white divide-y divide-gray-200">
                                <!-- Dados da Tabela serão preenchidos pelo JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <div class="mt-8 text-center text-sm text-gray-600 pb-4">
                <p>Pesquisa pública. Informações retiradas do Portal Nacional de Contratações Públicas.</p>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.umd.min.js"></script>
    <script>
        // Wait for Chart.js to load
        window.addEventListener('load', function() {
            // Data
            const timelineData = {
                labels: ['10/2023', '11/2023', '12/2023', '1/2024', '2/2024', '3/2024', '4/2024', '5/2024', '6/2024', '7/2024', '8/2024', '9/2024', '10/2024', '11/2024', '12/2024', '1/2025', '2/2025', '3/2025', '4/2025', '5/2025', '6/2025', '7/2025', '8/2025', '9/2025', '10/2025'],
                items: [5000000, 8000000, 12000000, 10000000, 5000000, 8000000, 15000000, 50000000, 8000000, 180000000, 280000000, 100000000, 45000000, 35000000, 25000000, 20000000, 18000000, 15000000, 12000000, 35000000, 28000000, 22000000, 18000000, 15000000, 12000000],
                values: [100000000, 200000000, 400000000, 300000000, 100000000, 200000000, 800000000, 3000000000, 200000000, 6000000000, 13000000000, 3500000000, 2000000000, 1500000000, 800000000, 600000000, 500000000, 400000000, 300000000, 1200000000, 900000000, 700000000, 500000000, 400000000, 300000000]
            };

            const companyData = {
                labels: ['CENTRO DE...', 'EMPRESA DE...', 'SMART CITI...', 'BRASOFTWAR...', 'ATECH - NE...', 'EXTREME DI...', 'TECHBIZ FO...', 'COMPANHIA...', 'SERVICO FE...', 'RESOURCE T...'],
                fullNames: ['CENTRO DE INFORMÁTICA E AUTOMAÇÃO DO ESTADO DE SC S/A', 'EMPRESA DE TECNOLOGIA E INFORMAÇÕES DA PREVIDÊNCIA', 'SMART CITIZEN DESENVOLVIMENTO E LICENCIAMENTO DE SOFTWARE LTDA', 'BRASOFTWARE INFORMÁTICA LTDA', 'ATECH - NEGÓCIOS EM TECNOLOGIAS S.A.', 'EXTREME DIGITAL EXPERIENCE LTDA', 'TECHBIZ FORENSE DIGITAL LTDA', 'COMPANHIA DE PROCESSAMENTO DE DADOS DO ESTADO DE SÃO PAULO - PRODESP', 'SERVIÇO FEDERAL DE PROCESSAMENTO DE DADOS (SERPRO)', 'RESOURCE TECNOLOGIA E INFORMÁTICA LTDA'],
                values: [12831331029.21, 2700000000, 2000000000, 1700000000, 500000000, 400000000, 350000000, 300000000, 280000000, 250000000],
                percentages: [43.8, 13.5, 10.2, 8.5, 6.8, 5.2, 4.1, 3.5, 2.8, 1.6],
                colors: ['#FFC0CB', '#1E40AF', '#22C55E', '#7C9CB5', '#DC2626', '#EAB308', '#A78BFA', '#3B82F6', '#000000', '#F97316']
            };

            const stateData = {
                labels: ['AC', 'AL', 'AM', 'AP', 'BA', 'CE', 'DF', 'ES', 'GO', 'MA', 'MG', 'MS', 'MT', 'PA', 'PB', 'PE', 'PI', 'PR', 'RJ', 'RN', 'RO', 'RR', 'RS', 'SC', 'SE', 'SP', 'TO'],
                payments: [50000000, 100000000, 200000000, 30000000, 800000000, 400000000, 600000000, 200000000, 100000000, 150000000, 500000000, 80000000, 120000000, 180000000, 90000000, 300000000, 70000000, 6000000000, 2000000000, 100000000, 60000000, 40000000, 500000000, 13000000000, 80000000, 2500000000, 90000000],
                companies: [5000000, 10000000, 50000000, 8000000, 180000000, 80000000, 100000000, 50000000, 20000000, 30000000, 120000000, 15000000, 25000000, 40000000, 18000000, 70000000, 15000000, 120000000, 50000000, 20000000, 12000000, 8000000, 100000000, 220000000, 16000000, 60000000, 18000000],
                totalPaid: [100000000, 200000000, 500000000, 60000000, 1500000000, 800000000, 1200000000, 400000000, 200000000, 300000000, 1000000000, 160000000, 250000000, 350000000, 180000000, 600000000, 140000000, 13000000000, 4000000000, 200000000, 120000000, 80000000, 1000000000, 25000000000, 160000000, 5000000000, 180000000]
            };
            
            const topOrgsData = {
                labels: ['SECRETARIA...', 'INSTITUTO...', 'TRIBUNAL D...', 'MINISTÉRIO...', 'MINISTÉRIO...', 'COMANDO DA...', 'SECRETARIA...', 'MINISTÉRIO...', 'TRIBUNAL S...', 'TRIBUNAL R...'],
                fullNames: ['SECRETARIA DE ESTADO DA EDUCAÇÃO', 'INSTITUTO NACIONAL DO SEGURO SOCIAL', 'TRIBUNAL DE CONTAS DO ESTADO DO PARANÁ', 'MINISTÉRIO DO PLANEJAMENTO, DESENVOLVIMENTO E GESTÃO - MPDG', 'MINISTÉRIO DA GESTÃO E DA INOVAÇÃO EM SERVIÇOS PÚBLICOS', 'COMANDO DA AERONÁUTICA', 'SECRETARIA DE ESTADO DA COMUNICAÇÃO', 'MINISTÉRIO DA JUSTIÇA E SEGURANÇA PÚBLICA', 'TRIBUNAL SUPERIOR ELEITORAL', 'TRIBUNAL REGIONAL FEDERAL DA 2 REGIÃO'],
                values: [12000000000, 2500000000, 2000000000, 700000000, 600000000, 550000000, 450000000, 400000000, 300000000, 250000000],
                colors: ['#FFC0CB', '#1E40AF', '#22C55E', '#7C9CB5', '#DC2626', '#EAB308', '#A78BFA', '#3B82F6', '#000000', '#F97316']
            };

            const topServicesData = {
                labels: ['Serviço de...', 'SUSTENTAÇÃ...', 'Cessão tem...', 'Fornecimen...', 'Software c...', 'Cessão Tem...', 'Implementa...', 'Software c...', 'Tecnologia...', 'Manutenção...', 'Tecnologia...', 'Sustentaçã...', 'Manutenção...', 'Cessão Tem...', 'Sistema (...' ],
                fullNames: ['Serviço de Desenvolvimento de Sistemas', 'SUSTENTAÇÃO E MANUTENÇÃO DE SISTEMAS', 'Cessão temporária de direito de uso de software', 'Fornecimento de Licenças de Software', 'Software com cessão temporária de direito de uso', 'Cessão Temporária de Uso de Software', 'Implementação de Solução', 'Software com Cessão Temporária', 'Tecnologia da Informação e Comunicação', 'Manutenção de Software', 'Tecnologia da Informação', 'Sustentação de Soluções', 'Manutenção de Licenças de Software', 'Cessão Temporária de Direito de Uso', 'Sistema de Informação'],
                values: [12500000000, 2200000000, 2000000000, 1800000000, 1000000000, 900000000, 800000000, 700000000, 600000000, 500000000, 400000000, 350000000, 300000000, 250000000, 200000000],
            };

            const orgsData = {
                labels: [
                    'SECRETARIA DE ESTADO DA EDUCAÇÃO',
                    'INSTITUTO NACIONAL DO SEGURO SOCIAL',
                    'TRIBUNAL DE CONTAS DO ESTADO DO PARANÁ',
                    'MINISTÉRIO DO PLANEJAMENTO, DESENVOLVIMENTO E GESTÃO - MPDG',
                    'MINISTÉRIO DA GESTÃO E DA INOVAÇÃO EM SERVIÇOS PÚBLICOS',
                    'COMANDO DA AERONÁUTICA',
                    'SECRETARIA DE ESTADO DA COMUNICAÇÃO',
                    'MINISTÉRIO DA JUSTIÇA E SEGURANÇA PÚBLICA',
                    'TRIBUNAL SUPERIOR ELEITORAL',
                    'TRIBUNAL REGIONAL FEDERAL DA 2 REGIÃO'
                ],
